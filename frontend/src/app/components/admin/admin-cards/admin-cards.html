<div class="admin-cards-container">
    <header class="page-header">
        <div class="header-content">
            <button class="back-btn" routerLink="/admin">
                <mat-icon>arrow_back</mat-icon> {{ 'ADMIN.BACK_BTN' | translate }}
            </button>
            <h1><mat-icon>style</mat-icon> {{ 'ADMIN.CARDS_TITLE' | translate }}</h1>
        </div>
        <p>{{ 'ADMIN.CARDS_SUBTITLE' | translate }}</p>
    </header>

    <div class="cards-table-container">
        <div *ngIf="isLoading" class="loading-state">
            <mat-icon class="spin">sync</mat-icon>
            <p>{{ 'ADMIN.CARDS_LOADING' | translate }}</p>
        </div>

        <table *ngIf="!isLoading">
            <thead>
                <tr>
                    <th style="width: 60px;">{{ 'ADMIN.TH_IMG' | translate }}</th>
                    <th>{{ 'ADMIN.TH_NAME' | translate }}</th>
                    <th>{{ 'ADMIN.TH_SET' | translate }}</th>
                    <th>{{ 'ADMIN.TH_PRICE' | translate }}</th>
                    <!-- <th>Atualizado</th> -->
                    <th style="text-align: right;">{{ 'ADMIN.TH_ACTIONS' | translate }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let card of cards">
                    <td>
                        <img [src]="card.imageUrl" alt="Card" class="card-thumb">
                    </td>
                    <td>
                        <span class="card-name">{{ card.name }}</span>
                    </td>
                    <td>
                        <span class="set-badge">{{ card.setName }}</span>
                    </td>
                    <td>
                        <span class="price" [class.no-price]="card.priceUsd === 0">
                            {{ card.priceUsd | currency:'USD' }}
                        </span>
                    </td>
                    <!-- <td>{{ card.lastUpdate | date:'short' }}</td> -->
                    <td style="text-align: right;">
                        <button class="btn-sm view" [routerLink]="['/card', card.id]">
                            <mat-icon>visibility</mat-icon>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="pagination-controls" *ngIf="totalElements > 0">
            <button [disabled]="page === 0" (click)="changePage(-1)">
                <mat-icon>chevron_left</mat-icon>
            </button>
            <span>{{ 'ADMIN.PAGE' | translate }} {{ page + 1 }} {{ 'ADMIN.OF' | translate }} {{ totalPages }}</span>
            <button [disabled]="page >= totalPages - 1" (click)="changePage(1)">
                <mat-icon>chevron_right</mat-icon>
            </button>
        </div>
    </div>
</div>